<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å¦‚ä½•ç”¨VS Codeä¼˜é›…çš„åœ¨å®¹å™¨ä¸­å¼€å‘</title>
      <link href="/code-in-docker/"/>
      <url>/code-in-docker/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘å¹²äº†ä¸å°‘é›¶ç¢äº‹ï¼Œå†™è®ºæ–‡ï¼Œæ­åšå®¢ï¼Œå¡«è¡¨çˆ¬è™«ã€‚<s>ä¸ºäº†ä¼˜é›…</s>ï¼Œè¿™äº›æ‚ä¸ƒä¹±å…«çš„æ´»ç”¨åˆ°çš„å¼€å‘ç¯å¢ƒè‡ªç„¶è¦å®¹å™¨åŒ–ï¼Œæ—¢èƒ½äº’ç›¸éš”ç¦»ï¼Œåˆæ–¹ä¾¿ä¸€è¨€ä¸åˆå¼€æ–°å®¹å™¨ä»å¤´å†æ¥ã€‚</p><a id="more"></a><p>æ ¹æ® Dockerfile æ„å»ºåŒ…å«å¼€å‘ç¯å¢ƒçš„é•œåƒï¼Œåˆ©ç”¨ VS Code çš„ Remote - Container æ’ä»¶åˆ›å»ºå®¹å™¨ã€æŒ‚è½½æºç ç›®å½•å¹¶åœ¨å®¹å™¨å†…å®‰è£… VS Code Serverï¼Œå®ç°ç”¨å®¹å™¨å†…çš„å¼€å‘ç¯å¢ƒå¤„ç†æœ¬åœ°çš„ä»£ç ã€‚</p><p><img src="/images/architecture-containers.png" alt="architecture-containers"></p><p>ğŸ‘†å°±æ˜¯è¿™ä¹ˆä¸ªæ„æ€ã€‚</p><p>é¦–å…ˆåœ¨<strong>æºç ç›®å½•</strong>å†…æ–°å»ºä¸€ä¸ª <code>.devcontainer</code> æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾ä¸€ä¸ª <code>Dockerfile</code> å’Œä¸€ä¸ª <code>devcontaniner.json</code> ã€‚æ ¹æ®æºç å†…å®¹é…ç½®æ–‡ä»¶å†…å®¹ï¼Œä»¥æˆ‘å†™è®ºæ–‡çš„ TeX Live ç¯å¢ƒä¸ºä¾‹</p><p><code>Dockerfile</code></p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> alpine</span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> sed -i <span class="string">'s/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g'</span> /etc/apk/repositories &amp;&amp; \</span></span><br><span class="line"><span class="bash">    apk add texlive-full libstdc++ git</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­gitå’Œlibstdc++æ˜¯ä¸º VS Code å‡†å¤‡çš„ã€‚</p><p><code>devcontainer.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"TeX Live"</span>,</span><br><span class="line">  <span class="attr">"dockerFile"</span>: <span class="string">"Dockerfile"</span>,</span><br><span class="line">  <span class="attr">"settings"</span>: &#123;</span><br><span class="line">    <span class="attr">"terminal.integrated.shell.linux"</span>: <span class="string">"/bin/ash"</span></span><br><span class="line">    <span class="comment">//settings.jsoné‡Œçš„å…¶ä»–é…ç½®ï¼Œ å¤ªé•¿ä¸å†™</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"extensions"</span>: [james-yu.latex-workshop], <span class="comment">// æ’ä»¶æ ‡è¯†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®‰è£… <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" target="_blank" rel="noopener">Remote - Container</a> æ’ä»¶ï¼Œç‚¹å‡»å·¦ä¸‹è§’ç»¿è‰²å›¾æ ‡ï¼Œåœ¨å¼¹å‡ºå¯¹è¯æ¡†ä¸­é€‰æ‹© â€œ Remote-Containers: Open Folder in Container â€¦â€ é€‰é¡¹ï¼Œæ‰“å¼€åˆšæ‰æçš„<strong>æºç ç›®å½•</strong>ï¼ŒVS Code å°±ä¼šè‡ªåŠ¨æ„å»ºé•œåƒã€æ–°å»ºå®¹å™¨å¹¶è¿›è¡Œåˆå§‹åŒ–é…ç½®ï¼Œè‡ªåŠ¨åŒ–ç¨‹åº¦å¾ˆé«˜ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒVS Code å°†åœ¨æ–°å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿå†…å®‰è£… VS Code Server å’Œæ’ä»¶ï¼Œå¦‚æœç»å¸¸éœ€è¦å¼€æ–°å®¹å™¨ï¼Œå¦‚<strong>é‡å»ºé•œåƒ</strong>æˆ–<strong>ä½¿ç”¨åŒä¸€é•œåƒæ‰“å¼€ä¸åŒæ–‡ä»¶å¤¹</strong>ï¼Œåˆ™å¯ä»¥å°†å…¶åœ¨æ•°æ®å·ï¼ˆvolumeï¼‰ä¸­ï¼Œå¹¶åœ¨æ¯æ¬¡åˆ›å»ºæ–°å®¹å™¨æ—¶æŒ‚è½½ï¼Œè™½ç„¶ä¼šé™ä½æ€§èƒ½ï¼Œä½†å¯èŠ‚çº¦æ—¶é—´ã€‚</p><p>åœ¨ <code>devcontainer.json</code> ä¸­æ·»åŠ ä»¥ä¸‹éƒ¨åˆ†ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">"mounts": [</span><br><span class="line">    <span class="comment">// äºŒé€‰ä¸€</span></span><br><span class="line">    <span class="comment">// ä»…ä¿ç•™æ’ä»¶</span></span><br><span class="line">    "source=unique-vol-name-here,target=/root/.vscode-server/extensions,type=volume",</span><br><span class="line">    <span class="comment">// ä¿ç•™æ’ä»¶å’ŒVS Code Server</span></span><br><span class="line">    "source=unique-vol-name-here,target=/root/.vscode-server,type=volume",</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³é‡æ–°å®‰è£… VS Code Serverå’Œæ’ä»¶ï¼Œåˆ æ‰å®¹å™¨å·å³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume rm unique-vol-name-here</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ">å‚è€ƒ</h2><p><a href="https://code.visualstudio.com/docs/remote/containers" target="_blank" rel="noopener">Developing inside a Container</a><br><a href="https://code.visualstudio.com/docs/remote/containers-advanced" target="_blank" rel="noopener">Advanced Container Configuration</a></p>]]></content>
      
      
      <categories>
          
          <category> Coding </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºè¿™ä¸ªåšå®¢çš„æ­å»º</title>
      <link href="/about-building-this-site/"/>
      <url>/about-building-this-site/</url>
      
        <content type="html"><![CDATA[<p>ç›®å‰ç«™åå« Fizzy - Logbookï¼Œæ‰“ç®—ç”¨æ¥è®°å½•ä¸€äº›æŠ˜è…¾è¿‡ç¨‹ä¸­çš„é—²æ•£æ‚äº‹ã€‚</p><p>è¿™æ˜¯æˆ‘åœ¨è¿™é‡Œå†™çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œæˆ‘å†³å®šè®°å½•ä¸€ä¸‹å®ƒæ˜¯æ€ä¹ˆæ¥çš„ã€‚</p><a id="more"></a><p>ç®€å•æ¥è¯´ï¼ŒFizzy - Logbook ç”± Hexo æ­å»ºï¼Œæ‰˜ç®¡äºGitHub ï¼Œä½¿ç”¨ Travis CI è‡ªåŠ¨æ„å»ºã€‚</p><pre class="mermaid">graph LR  R(GitHub Repo)  T(Travis CI)  P(GitHub Pages)  R --push?--> T  T --hexo g & hexo d-->P</pre><h2 id="Hexo">Hexo</h2><p><a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> æ˜¯ä¸€ä¸ªåŸºäº Node.js çš„å¼€æºåšå®¢æ¡†æ¶ï¼Œå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:<span class="number">13</span>-alpine</span><br><span class="line"> </span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> sed -i <span class="string">'s/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g'</span> /etc/apk/repositories &amp;&amp; \</span></span><br><span class="line"><span class="bash">    apk add --no-cache git python &amp;&amp; \</span></span><br><span class="line"><span class="bash">    npm install -g cnpm --registry=https://registry.npm.taobao.org &amp;&amp; \</span></span><br><span class="line"><span class="bash">    cnpm install hexo-cli -g</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /blog</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">4000</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>docker image build -t hexo:base .</code> æ„å»ºåŸºç¡€é•œåƒ</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> hexo:base</span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> hexo init</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>docker image build -t hexo:init .</code> æ„å»ºé•œåƒ</p><p>æ‰§è¡Œ <code> docker container run --rm -it -p 4000:4000 hexo:init ash</code> åˆ›å»ºå®¹å™¨ã€‚</p><p>ç”¨ <code>hexo s</code> å‘½ä»¤å¯åŠ¨ serverï¼Œåœ¨æµè§ˆå™¨è®¿é—® <code>localhost:4000</code> æŸ¥çœ‹ç½‘ç«™æ•ˆæœã€‚</p><p>æ­¤æ—¶å¯ä»¥å¯¹æºç æ ¹ç›®å½•ä¸‹çš„ <code>_config.yml</code> è¿›è¡Œç¼–è¾‘ï¼Œå¯¹ç½‘ç«™è¿›è¡Œåˆæ­¥çš„å®šåˆ¶ï¼Œä¹Ÿå¯å¯»æ‰¾ä¸­æ„çš„ä¸»é¢˜æ›¿æ¢åˆå§‹ä¸»é¢˜ã€‚éšæ—¶ç”¨ <code>hexo s</code> è§‚çœ‹æ•ˆæœï¼Œå¦‚æœä¸çŸ¥é“å“ªæåäº†ï¼Œé‡å»ºä¸€ä¸ªå®¹å™¨é‡æ–°å¼„å°±å¥½ã€‚</p><p><s>Fizzy - Logbook ä½¿ç”¨äº† <a href="https://github.com/frostfan/hexo-theme-polarbear" target="_blank" rel="noopener">polorbear ä¸»é¢˜</a>ã€‚<a href="https://github.com/fizzybreezy/fizzybreezy.github.io/commit/4a3b239b5545a61c1892f95867dbcb82f8e1300f" target="_blank" rel="noopener">è°ƒæ•´äº†æ–‡ç« é“¾æ¥æ ¼å¼</a>å¹¶<a href="https://github.com/fizzybreezy/fizzybreezy.github.io/commit/bf5316c286c1acb2feb8b8069ebf0431eb2cb5b4" target="_blank" rel="noopener">å¯ç”¨äº†åˆ†ç±»è¾¹æ </a>ã€‚</s></p><p><s>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥ä¸»é¢˜ï¼ˆåŒ…æ‹¬å…¶ä»–ä¸€äº›ä¸»é¢˜ï¼‰éœ€è¦å®‰è£…åŒ… <code>hexo-render-sass</code>ï¼Œè¯¥åŒ…çš„ä¾èµ– <code>node-sass</code> åœ¨å®‰è£…è¿‡ç¨‹ä¸­ä¸‹è½½ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç”±äºå¢™å†…ç½‘ç»œåŸå› ä¸‹è½½ç»å¸¸å¤±è´¥ï¼Œ<a href="https://github.com/lmk123/blog/issues/28" target="_blank" rel="noopener">è§£å†³æ–¹æ¡ˆ</a>åœ¨æ­¤ã€‚</s></p><p>Fizzy - Logbook ä½¿ç”¨äº† <a href="https://unnamed42.github.io/" target="_blank" rel="noopener">unnamed42</a> ä¿®æ”¹çš„ <a href="https://github.com/unnamed42/hexo-theme-kunkka" target="_blank" rel="noopener">kunkka</a>ä¸»é¢˜ï¼Œè¯¥ä¸»é¢˜åŒ…å«äº†ç›®å½•å’Œæœç´¢åŠŸèƒ½ï¼Œç¨åŠ é…ç½®å³å¯è¾¾åˆ°å¾ˆæ£’çš„æ•ˆæœã€‚æ„Ÿè°¢ unnamed42 å’Œ åŸä½œè€… <a href="https://mufeng.me/" target="_blank" rel="noopener">iMuFeng</a> çš„å·¥ä½œã€‚</p><h2 id="GitHub-Pages">GitHub Pages</h2><p><a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> æ˜¯ä¸€é¡¹é™æ€ç«™ç‚¹æ‰˜ç®¡æœåŠ¡ï¼Œå®ƒç›´æ¥ä» GitHub ä¸Šçš„ä»“åº“è·å–ç½‘ç«™æºç ï¼Œé€šè¿‡æ„å»ºè¿‡ç¨‹è¿è¡Œæ–‡ä»¶ï¼Œç„¶åå‘å¸ƒç½‘ç«™ã€‚</p><p>é¦–å…ˆåœ¨ GitHub å»ºç«‹ä¸€ä¸ªåä¸º <a href="http://username.github.io" target="_blank" rel="noopener">username.github.io</a> çš„ä»“åº“ï¼Œå…¶ä¸­ username æ˜¯è‡ªå·±çš„ç”¨æˆ·åã€‚</p><p>ç„¶åå°†ä¸Šä¸€æ­¥çš„åšå®¢æºç æ¨å…¥ä»“åº“çš„ hexo åˆ†æ”¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /blog</span><br><span class="line">git init</span><br><span class="line">git checkout -b hexo</span><br><span class="line">git add --all</span><br><span class="line">git commit -m <span class="string">'first commit'</span></span><br><span class="line">git remote add origin https://github.com/username/username.github.io</span><br><span class="line">git push -u origin hexo</span><br></pre></td></tr></table></figure><p>åœ¨ <code>.gitignore</code> ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">node_modules&#x2F;</span><br><span class="line">tmp&#x2F;</span><br><span class="line">*.log</span><br><span class="line">.idea&#x2F;</span><br><span class="line">yarn.lock</span><br><span class="line">package-lock.json</span><br><span class="line">.nyc_output&#x2F;</span><br></pre></td></tr></table></figure><h2 id="Travis-CI">Travis CI</h2><p><a href="https://travis-ci.org/" target="_blank" rel="noopener">Travis CI</a>æä¾›æŒç»­é›†æˆæœåŠ¡ï¼ˆContinuous Integration, CIï¼‰ï¼Œé€šè¿‡ç»‘å®š GitHubä»“åº“ï¼Œåœ¨æ¯æ¬¡ä»£ç å‘ç”Ÿå˜åŠ¨æ—¶æä¾›ç¯å¢ƒè¿›è¡Œæ„å»ºå’Œæµ‹è¯•ã€‚</p><p>åœ¨è¿™é‡Œï¼Œæ¯å½“åšå®¢çš„æºç å‘ç”Ÿå˜åŠ¨ï¼ˆè°ƒæ•´é¡µé¢ã€å†™æ–°postï¼‰æ—¶ï¼ŒTravis CI ä¼šæ ¹æ®é…ç½®æ–‡ä»¶ <code>.travis.yml</code> è‡ªåŠ¨ç”Ÿæˆã€éƒ¨ç½²ç½‘é¡µã€‚</p><p>ä½¿ç”¨Travis CI è‡ªåŠ¨éƒ¨ç½² GitHub Pagesï¼Œéœ€è¦é€šè¿‡ token ä½¿å…¶æ‹¥æœ‰å¯¹ä»“åº“çš„æ¨é€æƒé™ã€‚åœ¨ GitHub çš„ Settings / Developer Settings / Personal Access Tokens é¡µé¢ä¸­æ–°å»º tokenï¼Œèµ‹äºˆ repo çš„å…¨éƒ¨æƒé™å³å¯ã€‚æ³¨æ„ä¿æŠ¤ç”Ÿæˆçš„tokenã€‚</p><h3 id="é…ç½®-Travis-CI-æœåŠ¡">é…ç½® Travis CI æœåŠ¡</h3><p>æ¥ä¸‹æ¥ä½¿ç”¨ GitHub è´¦æˆ·ç™»å½• Travis CIï¼Œè¿›è¡Œä»¥ä¸‹å‡ æ­¥æ“ä½œï¼š</p><ol><li><p>æ‰“å¼€åšå®¢æºç ä»“åº“çš„åŒæ­¥å¼€å…³</p></li><li><p>åœ¨è®¾ç½®ä¸­å…³é—­ â€œBuild pushed pull requestsâ€</p></li><li><p>åŠ å…¥å˜é‡ â€œGH_TOKEN&quot;ï¼Œå€¼ä¸ºä¹‹å‰ç”Ÿæˆçš„tokenï¼Œæ³¨æ„å…³é—­ â€DISPLAY VALUE IN BUILD LOGâ€œ é€‰é¡¹ã€‚</p></li></ol><p>è‡³æ­¤ Travis CI æœåŠ¡é…ç½®å®Œæ¯•ã€‚</p><h3 id="é…ç½®è‡ªåŠ¨æ„å»º">é…ç½®è‡ªåŠ¨æ„å»º</h3><p>å›åˆ°åšå®¢æºç ç›®å½•ï¼Œ</p><p>åˆ›å»º <code>.travis.yml</code> ï¼ŒåŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">node_js</span></span><br><span class="line"><span class="attr">sudo:</span> <span class="string">required</span></span><br><span class="line"><span class="attr">node_js:</span> <span class="string">--lts</span></span><br><span class="line"></span><br><span class="line"><span class="attr">cache:</span></span><br><span class="line">  <span class="attr">directories:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">node_modules</span></span><br><span class="line"></span><br><span class="line"><span class="attr">branches:</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">hexo</span> </span><br><span class="line"></span><br><span class="line"><span class="attr">before_install:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">-g</span> <span class="string">hexo-cli</span></span><br><span class="line"></span><br><span class="line"><span class="attr">install:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-deployer-git</span> <span class="string">--save</span></span><br><span class="line"></span><br><span class="line"><span class="attr">script:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">clean</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">generate</span></span><br><span class="line"></span><br><span class="line"><span class="attr">after_script:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">config</span> <span class="string">user.name</span> <span class="string">"fizzybreezy"</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">config</span> <span class="string">user.email</span> <span class="string">"shenxingjian@live.com"</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">sed</span> <span class="string">-i</span> <span class="string">"s/gh_token/$&#123;GH_TOKEN&#125;/g"</span> <span class="string">./_config.yml</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">deploy</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†è‡ªåŠ¨æ„å»ºçš„æµç¨‹ï¼Œä½¿ç”¨æ—¶æ³¨æ„æ›¿æ¢ git çš„å‚æ•°ã€‚</p><p>åœ¨é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­åŠ å…¥ä»¥ä¸‹éƒ¨åˆ†ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://gh_token@github.com/fizzybreezy/fizzybreezy.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>è¿™éƒ¨åˆ†å®šä¹‰äº†è‡ªåŠ¨æ„å»ºæ—¶ <code>hexo deploy</code> å‘½ä»¤çš„æ‰§è¡Œæ–¹å¼ï¼Œå…¶ä¸­çš„ gh_token éƒ¨åˆ†ä¼šåœ¨ç¼–è¯‘æ—¶ä¼šè¢« sed æ›¿æ¢ä¸ºè®¿é—®GitHubä»“åº“çš„ token ã€‚</p><h3 id="è§¦å‘ç¬¬ä¸€æ¬¡æ„å»º">è§¦å‘ç¬¬ä¸€æ¬¡æ„å»º</h3><p>å°†ä»¥ä¸Šä¿®æ”¹ <code>git push</code> ï¼Œå³å¯è§¦å‘ Travis CI çš„è‡ªåŠ¨æ„å»ºï¼Œä¸å‡ºé”™çš„è¯ï¼Œmaster åˆ†æ”¯ä¼šå‡ºç°è‡ªåŠ¨éƒ¨ç½²çš„æºç ï¼Œæ­¤æ—¶åšå®¢ä¹Ÿå¯ä»¥é€šè¿‡ <code>username.github.io</code> è®¿é—®äº†ã€‚</p><h2 id="å¯¹åšå®¢è¿›è¡Œä¿®æ”¹">å¯¹åšå®¢è¿›è¡Œä¿®æ”¹</h2><p>ç°åœ¨åšå®¢å·²ç»ä¸Šçº¿ï¼Œå‘å¸ƒæ–°æ–‡ç« åªéœ€ä¸‰æ­¥ï¼š</p><ol><li><code>git pull</code></li><li>ç”¨Markdownè¿›è¡Œç¼–å†™</li><li><code>git push</code></li></ol><p>å¦‚æœè¦å¯¹åšå®¢çš„ä¸»é¢˜ã€æ ·å¼ç­‰è¿›è¡Œä¿®æ”¹ï¼Œéœ€è¦ç”¨åˆ° Hexo ç¯å¢ƒã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> hexo:base</span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> git <span class="built_in">clone</span> -b hexo https://github.com/fizzybreezy/fizzybreezy.github.io /blog &amp;&amp; \</span></span><br><span class="line"><span class="bash">    cnpm install &amp;&amp; \</span></span><br><span class="line"><span class="bash">    hexo clean</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">4000</span></span><br></pre></td></tr></table></figure><p>å¯¹ä¿®æ”¹åçš„åšå®¢æºç  <code>git push</code> å³å¯ã€‚</p><h2 id="å‚è€ƒ">å‚è€ƒ</h2><p><a href="https://juejin.im/post/5a1fa30c6fb9a045263b5d2a" target="_blank" rel="noopener">Hexoé‡ä¸ŠTravis-CIï¼šå¯èƒ½æ˜¯æœ€é€šä¿—æ˜“æ‡‚çš„è‡ªåŠ¨å‘å¸ƒåšå®¢å›¾æ–‡æ•™ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Hexo </tag>
            
            <tag> Travis CI </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
